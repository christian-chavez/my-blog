"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const diesel_1 = require("@alxshelepenok/diesel");
const react_hooks_1 = require("@alxshelepenok/react-hooks");
const utils_1 = require("@/utils");
const useCoilPersistedState = (coilValue, keyPrefix = "diesel:") => {
    const [value, setValue] = (0, diesel_1.useCoilState)(coilValue);
    const [persistedValue, setPersistedValue] = (0, react_hooks_1.useLocalStorage)(keyPrefix.concat((0, utils_1.toKebabCase)(coilValue.key)), value);
    return [
        persistedValue,
        (nextValue) => {
            setPersistedValue(nextValue);
            return setValue(value);
        },
    ];
};
exports.default = useCoilPersistedState;
//# sourceMappingURL=use-coil-persisted-state.js.map